---
repos:
  - repo: local
    hooks:
      - id: golangci-lint-in-module
        name: golangci-lint (monitor/go)
        language: system
        pass_filenames: false
        entry: bash -lc 'cd monitor/go && golangci-lint run --config=../../.golangci.yml --fix --timeout=2m ./...'


  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: end-of-file-fixer
      - id: trailing-whitespace

  - repo: local
    hooks:
      - id: vagrant-validate
        name: vagrant validate
        entry: vagrant validate --ignore-provider
        language: system
        pass_filenames: false
        files: ^Vagrantfile$

  - repo: https://github.com/ansible/ansible-lint
    rev: v25.9.0
    hooks:
      - id: ansible-lint
        name: ansible-lint (playbooks & roles)
        files: ^monitor/ansible/.*\.(yml|yaml)$
        additional_dependencies:
          - ansible-core>=2.15
          - yamllint>=1.33.0

#  - repo: https://github.com/adrienverge/yamllint
#    rev: v1.37.1
#    hooks:
#      - id: yamllint
#        name: yamllint (all YAML)
#        files: \.(yml|yaml)$
#  - repo: https://github.com/shellcheck-py/shellcheck-py
#    rev: v0.11.0.1
#    hooks:
#      - id: shellcheck
#        name: shellcheck (bash/sh)
#        types: [shell]   # applies to files detected as shell scripts
#        args: ["-x"]     # follow sourced files where possible
#
#  - repo: https://github.com/scop/pre-commit-shfmt
#    rev: v3.12.0-2
#    hooks:
#      - id: shfmt
#        name: shfmt (format shell scripts)
#        types: [shell]
#        args: ["-i", "2", "-sr", "-w"]  # 2-space indent, simplify, write in place
